!function(){var a,b,c,d,e,f,g;b=function(){function a(){}return a.existy=function(a){return null!=a},a.lengthy=function(a){return this.truthy(a)&&a.hasOwnProperty("length")&&a.length>0},a.truthy=function(a){return this.existy(a)&&a!==!1},a}(),a=function(){function a(){}return a.append=function(a,c,d){var e;return b.existy(a)&&"object"==typeof a||this.error("Expected valid element."),b.existy(c)&&"string"==typeof c||this.error("Expected valid event."),b.existy(d)&&"function"==typeof d||this.error("Expected valid fn."),e=a[c],a[c]=b.existy(e)?function(a){return e(a),d(a)}:d},a.debug=function(a){var c;return b.lengthy(a)&&"string"==typeof a||this.error("Expected valid debug message."),c=["DEBUG:",a].join(" "),b.existy(g.console)?g.console.log(c):g.alert(n)},a.documentHeight=function(){return Math.max(g.document.body.scrollHeight||0,g.document.documentElement.scrollHeight||0,g.document.body.offsetHeight||0,g.document.documentElement.offsetHeight||0,g.document.body.clientHeight||0,g.document.documentElement.clientHeight||0)},a.hasCookie=function(a){return b.lengthy(a)&&"string"==typeof a||this.error("Expected valid name."),g.document.cookie.indexOf(a)>=0},a.error=function(a){throw b.lengthy(a)&&"string"==typeof a||(a="Expected valid error message."),new Error(a)},a.scrolledPercent=function(){return Math.floor(100*((this.windowScroll()+this.windowHeight())/this.documentHeight()))},a.windowHeight=function(){return g.innerHeight||g.document.documentElement.clientHeight||g.document.body.clientHeight||0},a.windowScroll=function(){return g.pageYOffset||g.document.body.scrollTop||g.document.documentElement.scrollTop||0},a}(),d=function(){function c(c,d){b.existy(c)&&"object"==typeof c||a.error("Expected gap to be an object."),b.existy(d)&&"object"==typeof d||a.error("Expected state to be an object."),this._gap=c,this.state=d}return c.prototype.listen=function(c){switch(c[0]){case"_gapTrackLinkClicks":return a.append(g.document.getElementsByTagName("body")[0],"onmousedown",function(a){var c,d,e,f;return e=a.target||a.srcElement,!b.existy(e)||"A"!==e.nodeName&&"BUTTON"!==e.nodeName?void 0:(c=g._gap,d=e.href||"",f=e.innerText||e.textContent,c.push(["_trackEvent","gapLinkClick",f.replace(/^\s+|\s+$/g,"")+" ("+d+")"]))})}},c}(),e=function(){function c(c,d){b.existy(c)&&"object"==typeof c||a.error("Expected gap to be an object."),b.existy(d)&&"object"==typeof d||a.error("Expected state to be an object."),this._gap=c,this.state=d}return c.prototype.listen=function(c){switch(c[0]){case"_gapTrackBounceViaScroll":if(2===c.length&&"number"==typeof c[1]&&!b.truthy(this._gap.state.cookied)&&!b.truthy(this._gap.state.bounced))return this.state.bounceViaScrollPercent=c[1],this.state.bounceViaScrollFunction=function(){var c,d,e,f;return c=g._gap,d=g._gap.state,e=a.scrolledPercent(),f=g._gap.trackers.scroll.state,!b.truthy(d.bounced)&&e>=f.bounceViaScrollPercent?(d.bounced=!0,c.push(["_trackEvent","gapBounceViaScroll",f.bounceViaScrollPercent.toString()])):void 0},a.append(g,"onscroll",function(){var a;return a=g._gap.trackers.scroll.state,b.existy(a.bounceViaScrollTimeout)&&clearTimeout(a.bounceViaScrollTimeout),a.bounceViaScrollTimeout=setTimeout(a.bounceViaScrollFunction,100)});break;case"_gapTrackMaxScroll":if(2===c.length&&"number"==typeof c[1])return this.state.maxScrollPercent=c[1],this.state.maxScrollFunction=function(){var c,d;return c=a.scrolledPercent(),d=g._gap.trackers.scroll.state,c>=d.maxScrollPercent&&(!b.existy(d.maxScrolledPercent)||c>d.maxScrolledPercent)?d.maxScrolledPercent=c:void 0},a.append(g,"onscroll",function(){var a;return a=g._gap.trackers.scroll.state,b.existy(a.maxScrollTimeout)&&clearTimeout(a.maxScrollTimeout),a.maxScrollTimeout=setTimeout(a.maxScrollFunction,100)}),a.append(g,"onunload",function(){var a,c;return a=g._gap,c=g._gap.trackers.scroll.state,b.existy(c.maxScrolledPercent)?a.push(["_trackEvent","gapMaxScroll",c.maxScrolledPercent.toString()]):void 0})}},c}(),f=function(){function c(c,d){b.existy(c)&&"object"==typeof c||a.error("Expected gap to be an object."),b.existy(d)&&"object"==typeof d||a.error("Expected state to be an object."),this._gap=c,this.state=d}return c.prototype.listen=function(a){var c;switch(a[0]){case"_gapTrackBounceViaTime":if(2===a.length&&"number"==typeof a[1]&&!b.truthy(this._gap.state.cookied)&&!b.truthy(this._gap.state.bounced))return this.state.bounceViaTimeTimeout=g.setTimeout(function(){var c,d;return c=g._gap,d=this._gap.state,b.truthy(d.bounced)?void 0:(d.bounced=!0,c.push(["_trackEvent","gapBounceViaTime",a[1].toString()]))},1e3*a[1]);break;case"_gapTrackReads":if(3===a.length&&"number"==typeof a[1]&&"number"==typeof a[2])return this.state.readsSeconds=0,this.state.readsSecondsMax=a[1]*a[2],this.state.readsInterval=g.setInterval(c=function(){var b,d;return b=g._gap,d=g._gap.trackers.time.state,d.readsSeconds<d.readsSecondsMax?(b.push(["_trackEvent","gapRead",(d.readsSeconds+=a[1]).toString()]),c):clearInterval(d.readsInterval)},1e3*a[1])}},c}(),c=function(){function c(c,g,h){b.existy(c)&&"object"==typeof c||a.error("Expected gap to be an object."),b.existy(g)&&"object"==typeof g||a.error("Expected gaq to be an object."),b.existy(h)&&"object"==typeof h||a.error("Expected state to be an object."),this._gaq=g,this.state=h,this.trackers={},this.subscribe("time",new f(this,{})),this.subscribe("mousedown",new d(this,{})),this.subscribe("scroll",new e(this,{})),this.isCommand(c)&&this.push(c)}return c.prototype.isCommand=function(a){return b.lengthy(a)&&"[object Array]"==={}.toString.call(a)},c.prototype.publish=function(b){var c,d,e,f;this.isCommand(b)||a.error("Expected valid command."),e=this.trackers,f=[];for(c in e)d=e[c],f.push(d.listen(b));return f},c.prototype.push=function(c){var d,e,f,g;if(this.isCommand(c)||a.error("Expected valid command."),this.isCommand(c[0])){for(g=[],e=0,f=c.length;f>e;e++)d=c[e],g.push(this.push(d));return g}return this.publish(c),0!==c[0].indexOf("_gap")&&(this._gaq.push(c),b.truthy(this.state.debugging))?a.debug(["[",c.toString(),"]"].join(" ")):void 0},c.prototype.subscribe=function(c,d){return b.existy(c)&&"string"==typeof c||a.error("Expected key to be a string."),b.existy(d)&&"object"==typeof d||a.error("Expected tracker to be an object."),this.trackers[c]=d},c}(),g=window,null==g._gap&&(g._gap=[]),null==g._gaq&&(g._gaq=[]),function(){var d,e,f;return e=a.hasCookie("__utmb"),d=g.document.createElement("script"),d.async=!0,d.type="text/javascript",d.src="https:"===g.location.protocol?"https://ssl":"http://www.google-analytics.com/ga.js",d.onload=d.onreadystatechange=function(){return g._gap=new c(g._gap,g._gaq,{cookied:e,debugging:b.truthy(g._gapDebug)})},f=g.document.getElementsByTagName("script")[0],f.parentNode.insertBefore(d,f)}()}.call(this);
